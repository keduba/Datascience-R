---
title: "HW 01 - Airbnb listings in Edinburgh"
author: "Kairo"
date: "17/02/2026"
output: github_document
---

## Load packages and data

```{r load-packages, message = FALSE}
library(tidyverse)
library(dsbox)
library(ggridges)
```

## Exercises

### Exercise 1

There are `r nrow(edibnb)` rows in the `edibnb` dataset.

### Exercise 2

Each row represents an observation of an apartment for rent on the Airbnb in Edinburgh, with the id, price, bathrooms, bed, reviews and other key features for someone considering to rent.

### Exercise 3

```{r prices-neighbourhoods}
# drop NA values
edibnb_na <- edibnb |> 
  drop_na()

# Plot the rest in the histogram
ggplot(edibnb_na, aes(price)) +
  geom_histogram(binwidth = 40) +
  facet_wrap(~ neighbourhood, ncol = 4)
```

### Exercise 4

```{r top-5-median}
edibnb |> 
  select(neighbourhood, price) |> 
  filter(!is.na(price)) |> 
  group_by(neighbourhood) |> 
  summarise(med = median(price)) |>
  arrange(desc(med)) |>
  slice(1:5)
```

```{r }
top_neighbourhood <- edibnb_na |> 
  select(neighbourhood, price) |> 
  # filter(!is.na(price)) |> 
  group_by(neighbourhood) |> 
  summarise(med = median(price)) |> 
  arrange(desc(med)) |>
  slice(1:5) |> 
  ungroup() |> 
  select(neighbourhood)
```

```{r top-5-median-plot}
edibnb |> 
  filter(neighbourhood %in% top_neighbourhood$neighbourhood) |> 
  ggplot(aes(y = neighbourhood, x = price, fill = neighbourhood)) +
  geom_density_ridges(alpha = 0.7)
```

```{r top-5-median-summary-stats}
edibnb |> 
  filter(neighbourhood %in% top_neighbourhood$neighbourhood) |>
  filter(!is.na(price)) |> 
  group_by(neighbourhood) |> 
  summarise(mini = min(price),
            maxi = max(price),
            means = mean(price),
            med = median(price),
            sdv = sd(price),
            iqr = IQR(price))

```
Explanation:
The mean prices for each of the top five neighbourhoods is higher than the median value, suggesting of course that they are influenced by the maximum price in each neighbourhood. The New Town and Old Town both have the highest distribution of high prices followed by West End as observed from the means, even though the maximum are the same. 


### Exercise 5

```{r review-scores-rating}
edibnb |> 
  group_by(neighbourhood) |> 
  select(neighbourhood, review_scores_rating) |> 
  drop_na() |> 
  ggplot(aes(review_scores_rating, neighbourhood, fill = neighbourhood)) +
  geom_density_ridges(alpha = 0.8)
```
```{r}
edibnb |> 
  group_by(neighbourhood) |> 
  select(neighbourhood, review_scores_rating) |> 
  drop_na() |> 
  ggplot(aes(y = neighbourhood)) +
  geom_bar(alpha = 0.8)
```

